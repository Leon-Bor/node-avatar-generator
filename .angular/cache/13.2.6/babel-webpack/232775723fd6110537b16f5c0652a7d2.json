{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, Inject, isDevMode, NgModule, Optional, SkipSelf, Injector } from '@angular/core';\nimport { BehaviorSubject, Observable, Subject, queueScheduler } from 'rxjs';\nimport { observeOn, withLatestFrom, scan, pluck, map, distinctUntilChanged } from 'rxjs/operators';\nconst REGISTERED_ACTION_TYPES = {};\n\nfunction resetRegisteredActionTypes() {\n  for (const key of Object.keys(REGISTERED_ACTION_TYPES)) {\n    delete REGISTERED_ACTION_TYPES[key];\n  }\n}\n/**\n * @description\n * Creates a configured `Creator` function that, when called, returns an object in the shape of the `Action` interface.\n *\n * Action creators reduce the explicitness of class-based action creators.\n *\n * @param type Describes the action that will be dispatched\n * @param config Additional metadata needed for the handling of the action.  See {@link createAction#usage-notes Usage Notes}.\n *\n * @usageNotes\n *\n * **Declaring an action creator**\n *\n * Without additional metadata:\n * ```ts\n * export const increment = createAction('[Counter] Increment');\n * ```\n * With additional metadata:\n * ```ts\n * export const loginSuccess = createAction(\n *   '[Auth/API] Login Success',\n *   props<{ user: User }>()\n * );\n * ```\n * With a function:\n * ```ts\n * export const loginSuccess = createAction(\n *   '[Auth/API] Login Success',\n *   (response: Response) => response.user\n * );\n * ```\n *\n * **Dispatching an action**\n *\n * Without additional metadata:\n * ```ts\n * store.dispatch(increment());\n * ```\n * With additional metadata:\n * ```ts\n * store.dispatch(loginSuccess({ user: newUser }));\n * ```\n *\n * **Referencing an action in a reducer**\n *\n * Using a switch statement:\n * ```ts\n * switch (action.type) {\n *   // ...\n *   case AuthApiActions.loginSuccess.type: {\n *     return {\n *       ...state,\n *       user: action.user\n *     };\n *   }\n * }\n * ```\n * Using a reducer creator:\n * ```ts\n * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))\n * ```\n *\n *  **Referencing an action in an effect**\n * ```ts\n * effectName$ = createEffect(\n *   () => this.actions$.pipe(\n *     ofType(AuthApiActions.loginSuccess),\n *     // ...\n *   )\n * );\n * ```\n */\n\n\nfunction createAction(type, config) {\n  REGISTERED_ACTION_TYPES[type] = (REGISTERED_ACTION_TYPES[type] || 0) + 1;\n\n  if (typeof config === 'function') {\n    return defineType(type, (...args) => Object.assign(Object.assign({}, config(...args)), {\n      type\n    }));\n  }\n\n  const as = config ? config._as : 'empty';\n\n  switch (as) {\n    case 'empty':\n      return defineType(type, () => ({\n        type\n      }));\n\n    case 'props':\n      return defineType(type, props => Object.assign(Object.assign({}, props), {\n        type\n      }));\n\n    default:\n      throw new Error('Unexpected config.');\n  }\n}\n\nfunction props() {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/naming-convention\n  return {\n    _as: 'props',\n    _p: undefined\n  };\n}\n\nfunction union(creators) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  return undefined;\n}\n\nfunction defineType(type, creator) {\n  return Object.defineProperty(creator, 'type', {\n    value: type,\n    writable: false\n  });\n}\n\nconst INIT = '@ngrx/store/init';\n\nclass ActionsSubject extends BehaviorSubject {\n  constructor() {\n    super({\n      type: INIT\n    });\n  }\n\n  next(action) {\n    if (typeof action === 'function') {\n      throw new TypeError(`\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().`);\n    } else if (typeof action === 'undefined') {\n      throw new TypeError(`Actions must be objects`);\n    } else if (typeof action.type === 'undefined') {\n      throw new TypeError(`Actions must have a type property`);\n    }\n\n    super.next(action);\n  }\n\n  complete() {\n    /* noop */\n  }\n\n  ngOnDestroy() {\n    super.complete();\n  }\n\n}\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nActionsSubject.ɵfac = function ActionsSubject_Factory(t) {\n  return new (t || ActionsSubject)();\n};\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nActionsSubject.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ActionsSubject,\n  factory: ActionsSubject.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ActionsSubject, [{\n    type: Injectable\n  }], function () {\n    return [];\n  }, null);\n})();\n\nconst ACTIONS_SUBJECT_PROVIDERS = [ActionsSubject];\n\nconst _ROOT_STORE_GUARD = new InjectionToken('@ngrx/store Internal Root Guard');\n\nconst _INITIAL_STATE = new InjectionToken('@ngrx/store Internal Initial State');\n\nconst INITIAL_STATE = new InjectionToken('@ngrx/store Initial State');\nconst REDUCER_FACTORY = new InjectionToken('@ngrx/store Reducer Factory');\n\nconst _REDUCER_FACTORY = new InjectionToken('@ngrx/store Internal Reducer Factory Provider');\n\nconst INITIAL_REDUCERS = new InjectionToken('@ngrx/store Initial Reducers');\n\nconst _INITIAL_REDUCERS = new InjectionToken('@ngrx/store Internal Initial Reducers');\n\nconst STORE_FEATURES = new InjectionToken('@ngrx/store Store Features');\n\nconst _STORE_REDUCERS = new InjectionToken('@ngrx/store Internal Store Reducers');\n\nconst _FEATURE_REDUCERS = new InjectionToken('@ngrx/store Internal Feature Reducers');\n\nconst _FEATURE_CONFIGS = new InjectionToken('@ngrx/store Internal Feature Configs');\n\nconst _STORE_FEATURES = new InjectionToken('@ngrx/store Internal Store Features');\n\nconst _FEATURE_REDUCERS_TOKEN = new InjectionToken('@ngrx/store Internal Feature Reducers Token');\n\nconst FEATURE_REDUCERS = new InjectionToken('@ngrx/store Feature Reducers');\n/**\n * User-defined meta reducers from StoreModule.forRoot()\n */\n\nconst USER_PROVIDED_META_REDUCERS = new InjectionToken('@ngrx/store User Provided Meta Reducers');\n/**\n * Meta reducers defined either internally by @ngrx/store or by library authors\n */\n\nconst META_REDUCERS = new InjectionToken('@ngrx/store Meta Reducers');\n/**\n * Concats the user provided meta reducers and the meta reducers provided on the multi\n * injection token\n */\n\nconst _RESOLVED_META_REDUCERS = new InjectionToken('@ngrx/store Internal Resolved Meta Reducers');\n/**\n * Runtime checks defined by the user via an InjectionToken\n * Defaults to `_USER_RUNTIME_CHECKS`\n */\n\n\nconst USER_RUNTIME_CHECKS = new InjectionToken('@ngrx/store User Runtime Checks Config');\n/**\n * Runtime checks defined by the user via forRoot()\n */\n\nconst _USER_RUNTIME_CHECKS = new InjectionToken('@ngrx/store Internal User Runtime Checks Config');\n/**\n * Runtime checks currently in use\n */\n\n\nconst ACTIVE_RUNTIME_CHECKS = new InjectionToken('@ngrx/store Internal Runtime Checks');\n\nconst _ACTION_TYPE_UNIQUENESS_CHECK = new InjectionToken('@ngrx/store Check if Action types are unique');\n/**\n * @description\n * Combines reducers for individual features into a single reducer.\n *\n * You can use this function to delegate handling of state transitions to multiple reducers, each acting on their\n * own sub-state within the root state.\n *\n * @param reducers An object mapping keys of the root state to their corresponding feature reducer.\n * @param initialState Provides a state value if the current state is `undefined`, as it is initially.\n * @returns A reducer function.\n *\n * @usageNotes\n *\n * **Example combining two feature reducers into one \"root\" reducer**\n *\n * ```ts\n * export const reducer = combineReducers({\n *   featureA: featureAReducer,\n *   featureB: featureBReducer\n * });\n * ```\n *\n * You can also override the initial states of the sub-features:\n * ```ts\n * export const reducer = combineReducers({\n *   featureA: featureAReducer,\n *   featureB: featureBReducer\n * }, {\n *   featureA: { counterA: 13 },\n *   featureB: { counterB: 37 }\n * });\n * ```\n */\n\n\nfunction combineReducers(reducers, initialState = {}) {\n  const reducerKeys = Object.keys(reducers);\n  const finalReducers = {};\n\n  for (let i = 0; i < reducerKeys.length; i++) {\n    const key = reducerKeys[i];\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  const finalReducerKeys = Object.keys(finalReducers);\n  return function combination(state, action) {\n    state = state === undefined ? initialState : state;\n    let hasChanged = false;\n    const nextState = {};\n\n    for (let i = 0; i < finalReducerKeys.length; i++) {\n      const key = finalReducerKeys[i];\n      const reducer = finalReducers[key];\n      const previousStateForKey = state[key];\n      const nextStateForKey = reducer(previousStateForKey, action);\n      nextState[key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction omit(object, keyToRemove) {\n  return Object.keys(object).filter(key => key !== keyToRemove).reduce((result, key) => Object.assign(result, {\n    [key]: object[key]\n  }), {});\n}\n\nfunction compose(...functions) {\n  return function (arg) {\n    if (functions.length === 0) {\n      return arg;\n    }\n\n    const last = functions[functions.length - 1];\n    const rest = functions.slice(0, -1);\n    return rest.reduceRight((composed, fn) => fn(composed), last(arg));\n  };\n}\n\nfunction createReducerFactory(reducerFactory, metaReducers) {\n  if (Array.isArray(metaReducers) && metaReducers.length > 0) {\n    reducerFactory = compose.apply(null, [...metaReducers, reducerFactory]);\n  }\n\n  return (reducers, initialState) => {\n    const reducer = reducerFactory(reducers);\n    return (state, action) => {\n      state = state === undefined ? initialState : state;\n      return reducer(state, action);\n    };\n  };\n}\n\nfunction createFeatureReducerFactory(metaReducers) {\n  const reducerFactory = Array.isArray(metaReducers) && metaReducers.length > 0 ? compose(...metaReducers) : r => r;\n  return (reducer, initialState) => {\n    reducer = reducerFactory(reducer);\n    return (state, action) => {\n      state = state === undefined ? initialState : state;\n      return reducer(state, action);\n    };\n  };\n}\n\nclass ReducerObservable extends Observable {}\n\nclass ReducerManagerDispatcher extends ActionsSubject {}\n\nconst UPDATE = '@ngrx/store/update-reducers';\n\nclass ReducerManager extends BehaviorSubject {\n  constructor(dispatcher, initialState, reducers, reducerFactory) {\n    super(reducerFactory(reducers, initialState));\n    this.dispatcher = dispatcher;\n    this.initialState = initialState;\n    this.reducers = reducers;\n    this.reducerFactory = reducerFactory;\n  }\n\n  get currentReducers() {\n    return this.reducers;\n  }\n\n  addFeature(feature) {\n    this.addFeatures([feature]);\n  }\n\n  addFeatures(features) {\n    const reducers = features.reduce((reducerDict, {\n      reducers,\n      reducerFactory,\n      metaReducers,\n      initialState,\n      key\n    }) => {\n      const reducer = typeof reducers === 'function' ? createFeatureReducerFactory(metaReducers)(reducers, initialState) : createReducerFactory(reducerFactory, metaReducers)(reducers, initialState);\n      reducerDict[key] = reducer;\n      return reducerDict;\n    }, {});\n    this.addReducers(reducers);\n  }\n\n  removeFeature(feature) {\n    this.removeFeatures([feature]);\n  }\n\n  removeFeatures(features) {\n    this.removeReducers(features.map(p => p.key));\n  }\n\n  addReducer(key, reducer) {\n    this.addReducers({\n      [key]: reducer\n    });\n  }\n\n  addReducers(reducers) {\n    this.reducers = Object.assign(Object.assign({}, this.reducers), reducers);\n    this.updateReducers(Object.keys(reducers));\n  }\n\n  removeReducer(featureKey) {\n    this.removeReducers([featureKey]);\n  }\n\n  removeReducers(featureKeys) {\n    featureKeys.forEach(key => {\n      this.reducers = omit(this.reducers, key)\n      /*TODO(#823)*/\n      ;\n    });\n    this.updateReducers(featureKeys);\n  }\n\n  updateReducers(featureKeys) {\n    this.next(this.reducerFactory(this.reducers, this.initialState));\n    this.dispatcher.next({\n      type: UPDATE,\n      features: featureKeys\n    });\n  }\n\n  ngOnDestroy() {\n    this.complete();\n  }\n\n}\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nReducerManager.ɵfac = function ReducerManager_Factory(t) {\n  return new (t || ReducerManager)(i0.ɵɵinject(ReducerManagerDispatcher), i0.ɵɵinject(INITIAL_STATE), i0.ɵɵinject(INITIAL_REDUCERS), i0.ɵɵinject(REDUCER_FACTORY));\n};\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nReducerManager.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ReducerManager,\n  factory: ReducerManager.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ReducerManager, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ReducerManagerDispatcher\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [INITIAL_STATE]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [INITIAL_REDUCERS]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [REDUCER_FACTORY]\n      }]\n    }];\n  }, null);\n})();\n\nconst REDUCER_MANAGER_PROVIDERS = [ReducerManager, {\n  provide: ReducerObservable,\n  useExisting: ReducerManager\n}, {\n  provide: ReducerManagerDispatcher,\n  useExisting: ActionsSubject\n}];\n\nclass ScannedActionsSubject extends Subject {\n  ngOnDestroy() {\n    this.complete();\n  }\n\n}\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nScannedActionsSubject.ɵfac = /* @__PURE__ */function () {\n  let ɵScannedActionsSubject_BaseFactory;\n  return function ScannedActionsSubject_Factory(t) {\n    return (ɵScannedActionsSubject_BaseFactory || (ɵScannedActionsSubject_BaseFactory = i0.ɵɵgetInheritedFactory(ScannedActionsSubject)))(t || ScannedActionsSubject);\n  };\n}();\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nScannedActionsSubject.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ScannedActionsSubject,\n  factory: ScannedActionsSubject.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ScannedActionsSubject, [{\n    type: Injectable\n  }], null, null);\n})();\n\nconst SCANNED_ACTIONS_SUBJECT_PROVIDERS = [ScannedActionsSubject];\n\nclass StateObservable extends Observable {}\n\nclass State extends BehaviorSubject {\n  constructor(actions$, reducer$, scannedActions, initialState) {\n    super(initialState);\n    const actionsOnQueue$ = actions$.pipe(observeOn(queueScheduler));\n    const withLatestReducer$ = actionsOnQueue$.pipe(withLatestFrom(reducer$));\n    const seed = {\n      state: initialState\n    };\n    const stateAndAction$ = withLatestReducer$.pipe(scan(reduceState, seed));\n    this.stateSubscription = stateAndAction$.subscribe(({\n      state,\n      action\n    }) => {\n      this.next(state);\n      scannedActions.next(action);\n    });\n  }\n\n  ngOnDestroy() {\n    this.stateSubscription.unsubscribe();\n    this.complete();\n  }\n\n}\n\nState.INIT = INIT;\n/** @nocollapse */\n\n/** @nocollapse */\n\nState.ɵfac = function State_Factory(t) {\n  return new (t || State)(i0.ɵɵinject(ActionsSubject), i0.ɵɵinject(ReducerObservable), i0.ɵɵinject(ScannedActionsSubject), i0.ɵɵinject(INITIAL_STATE));\n};\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nState.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: State,\n  factory: State.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(State, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: ActionsSubject\n    }, {\n      type: ReducerObservable\n    }, {\n      type: ScannedActionsSubject\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [INITIAL_STATE]\n      }]\n    }];\n  }, null);\n})();\n\nfunction reduceState(stateActionPair = {\n  state: undefined\n}, [action, reducer]) {\n  const {\n    state\n  } = stateActionPair;\n  return {\n    state: reducer(state, action),\n    action\n  };\n}\n\nconst STATE_PROVIDERS = [State, {\n  provide: StateObservable,\n  useExisting: State\n}];\n/* eslint-disable @typescript-eslint/naming-convention */\n\nclass Store extends Observable {\n  constructor(state$, actionsObserver, reducerManager) {\n    super();\n    this.actionsObserver = actionsObserver;\n    this.reducerManager = reducerManager;\n    this.source = state$;\n  }\n\n  select(pathOrMapFn, ...paths) {\n    return select.call(null, pathOrMapFn, ...paths)(this);\n  }\n\n  lift(operator) {\n    const store = new Store(this, this.actionsObserver, this.reducerManager);\n    store.operator = operator;\n    return store;\n  }\n\n  dispatch(action) {\n    this.actionsObserver.next(action);\n  }\n\n  next(action) {\n    this.actionsObserver.next(action);\n  }\n\n  error(err) {\n    this.actionsObserver.error(err);\n  }\n\n  complete() {\n    this.actionsObserver.complete();\n  }\n\n  addReducer(key, reducer) {\n    this.reducerManager.addReducer(key, reducer);\n  }\n\n  removeReducer(key) {\n    this.reducerManager.removeReducer(key);\n  }\n\n}\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nStore.ɵfac = function Store_Factory(t) {\n  return new (t || Store)(i0.ɵɵinject(StateObservable), i0.ɵɵinject(ActionsSubject), i0.ɵɵinject(ReducerManager));\n};\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nStore.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: Store,\n  factory: Store.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(Store, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: StateObservable\n    }, {\n      type: ActionsSubject\n    }, {\n      type: ReducerManager\n    }];\n  }, null);\n})();\n\nconst STORE_PROVIDERS = [Store];\n\nfunction select(pathOrMapFn, propsOrPath, ...paths) {\n  return function selectOperator(source$) {\n    let mapped$;\n\n    if (typeof pathOrMapFn === 'string') {\n      const pathSlices = [propsOrPath, ...paths].filter(Boolean);\n      mapped$ = source$.pipe(pluck(pathOrMapFn, ...pathSlices));\n    } else if (typeof pathOrMapFn === 'function') {\n      mapped$ = source$.pipe(map(source => pathOrMapFn(source, propsOrPath)));\n    } else {\n      throw new TypeError(`Unexpected type '${typeof pathOrMapFn}' in select operator,` + ` expected 'string' or 'function'`);\n    }\n\n    return mapped$.pipe(distinctUntilChanged());\n  };\n}\n\nfunction capitalize(text) {\n  return text.charAt(0).toUpperCase() + text.substr(1);\n}\n\nconst RUNTIME_CHECK_URL = 'https://ngrx.io/guide/store/configuration/runtime-checks';\n\nfunction isUndefined(target) {\n  return target === undefined;\n}\n\nfunction isNull(target) {\n  return target === null;\n}\n\nfunction isArray(target) {\n  return Array.isArray(target);\n}\n\nfunction isString(target) {\n  return typeof target === 'string';\n}\n\nfunction isBoolean(target) {\n  return typeof target === 'boolean';\n}\n\nfunction isNumber(target) {\n  return typeof target === 'number';\n}\n\nfunction isObjectLike(target) {\n  return typeof target === 'object' && target !== null;\n}\n\nfunction isObject(target) {\n  return isObjectLike(target) && !isArray(target);\n}\n\nfunction isPlainObject(target) {\n  if (!isObject(target)) {\n    return false;\n  }\n\n  const targetPrototype = Object.getPrototypeOf(target);\n  return targetPrototype === Object.prototype || targetPrototype === null;\n}\n\nfunction isFunction(target) {\n  return typeof target === 'function';\n}\n\nfunction isComponent(target) {\n  return isFunction(target) && target.hasOwnProperty('ɵcmp');\n}\n\nfunction hasOwnProperty(target, propertyName) {\n  return Object.prototype.hasOwnProperty.call(target, propertyName);\n}\n\nlet _ngrxMockEnvironment = false;\n\nfunction setNgrxMockEnvironment(value) {\n  _ngrxMockEnvironment = value;\n}\n\nfunction isNgrxMockEnvironment() {\n  return _ngrxMockEnvironment;\n}\n\nfunction isEqualCheck(a, b) {\n  return a === b;\n}\n\nfunction isArgumentsChanged(args, lastArguments, comparator) {\n  for (let i = 0; i < args.length; i++) {\n    if (!comparator(args[i], lastArguments[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction resultMemoize(projectionFn, isResultEqual) {\n  return defaultMemoize(projectionFn, isEqualCheck, isResultEqual);\n}\n\nfunction defaultMemoize(projectionFn, isArgumentsEqual = isEqualCheck, isResultEqual = isEqualCheck) {\n  let lastArguments = null; // eslint-disable-next-line @typescript-eslint/no-explicit-any, , , , ,\n\n  let lastResult = null;\n  let overrideResult;\n\n  function reset() {\n    lastArguments = null;\n    lastResult = null;\n  }\n\n  function setResult(result = undefined) {\n    overrideResult = {\n      result\n    };\n  }\n\n  function clearResult() {\n    overrideResult = undefined;\n  }\n  /* eslint-disable prefer-rest-params, prefer-spread */\n  // disabled because of the use of `arguments`\n\n\n  function memoized() {\n    if (overrideResult !== undefined) {\n      return overrideResult.result;\n    }\n\n    if (!lastArguments) {\n      lastResult = projectionFn.apply(null, arguments);\n      lastArguments = arguments;\n      return lastResult;\n    }\n\n    if (!isArgumentsChanged(arguments, lastArguments, isArgumentsEqual)) {\n      return lastResult;\n    }\n\n    const newResult = projectionFn.apply(null, arguments);\n    lastArguments = arguments;\n\n    if (isResultEqual(lastResult, newResult)) {\n      return lastResult;\n    }\n\n    lastResult = newResult;\n    return newResult;\n  }\n\n  return {\n    memoized,\n    reset,\n    setResult,\n    clearResult\n  };\n}\n\nfunction createSelector(...input) {\n  return createSelectorFactory(defaultMemoize)(...input);\n}\n\nfunction defaultStateFn(state, selectors, props, memoizedProjector) {\n  if (props === undefined) {\n    const args = selectors.map(fn => fn(state));\n    return memoizedProjector.memoized.apply(null, args);\n  }\n\n  const args = selectors.map(fn => fn(state, props));\n  return memoizedProjector.memoized.apply(null, [...args, props]);\n}\n/**\n *\n * @param memoize The function used to memoize selectors\n * @param options Config Object that may include a `stateFn` function defining how to return the selector's value, given the entire `Store`'s state, parent `Selector`s, `Props`, and a `MemoizedProjection`\n *\n * @usageNotes\n *\n * **Creating a Selector Factory Where Array Order Does Not Matter**\n *\n * ```ts\n * function removeMatch(arr: string[], target: string): string[] {\n *   const matchIndex = arr.indexOf(target);\n *   return [...arr.slice(0, matchIndex), ...arr.slice(matchIndex + 1)];\n * }\n *\n * function orderDoesNotMatterComparer(a: any, b: any): boolean {\n *   if (!Array.isArray(a) || !Array.isArray(b)) {\n *     return a === b;\n *   }\n *   if (a.length !== b.length) {\n *     return false;\n *   }\n *   let tempB = [...b];\n *   function reduceToDetermineIfArraysContainSameContents(\n *     previousCallResult: boolean,\n *     arrayMember: any\n *   ): boolean {\n *     if (previousCallResult === false) {\n *       return false;\n *     }\n *     if (tempB.includes(arrayMember)) {\n *       tempB = removeMatch(tempB, arrayMember);\n *       return true;\n *     }\n *     return false;\n *   }\n *   return a.reduce(reduceToDetermineIfArraysContainSameContents, true);\n * }\n *\n * export const creactOrderDoesNotMatterSelector = createSelectorFactory(\n *   (projectionFun) => defaultMemoize(\n *     projectionFun,\n *     orderDoesNotMatterComparer,\n *     orderDoesNotMatterComparer\n *   )\n * );\n * ```\n *\n * **Creating an Alternative Memoization Strategy**\n *\n * ```ts\n * function serialize(x: any): string {\n *   return JSON.stringify(x);\n * }\n *\n * export const createFullHistorySelector = createSelectorFactory(\n *  (projectionFunction) => {\n *    const cache = {};\n *\n *    function memoized() {\n *      const serializedArguments = serialize(...arguments);\n *       if (cache[serializedArguments] != null) {\n *         cache[serializedArguments] = projectionFunction.apply(null, arguments);\n *       }\n *       return cache[serializedArguments];\n *     }\n *     return {\n *       memoized,\n *       reset: () => {},\n *       setResult: () => {},\n *       clearResult: () => {},\n *     };\n *   }\n * );\n * ```\n *\n *\n */\n\n\nfunction createSelectorFactory(memoize, options = {\n  stateFn: defaultStateFn\n}) {\n  return function (...input) {\n    let args = input;\n\n    if (Array.isArray(args[0])) {\n      const [head, ...tail] = args;\n      args = [...head, ...tail];\n    }\n\n    const selectors = args.slice(0, args.length - 1);\n    const projector = args[args.length - 1];\n    const memoizedSelectors = selectors.filter(selector => selector.release && typeof selector.release === 'function');\n    const memoizedProjector = memoize(function (...selectors) {\n      return projector.apply(null, selectors);\n    });\n    const memoizedState = defaultMemoize(function (state, props) {\n      return options.stateFn.apply(null, [state, selectors, props, memoizedProjector]);\n    });\n\n    function release() {\n      memoizedState.reset();\n      memoizedProjector.reset();\n      memoizedSelectors.forEach(selector => selector.release());\n    }\n\n    return Object.assign(memoizedState.memoized, {\n      release,\n      projector: memoizedProjector.memoized,\n      setResult: memoizedState.setResult,\n      clearResult: memoizedState.clearResult\n    });\n  };\n}\n\nfunction createFeatureSelector(featureName) {\n  return createSelector(state => {\n    const featureState = state[featureName];\n\n    if (!isNgrxMockEnvironment() && isDevMode() && !(featureName in state)) {\n      console.warn(`@ngrx/store: The feature name \"${featureName}\" does ` + 'not exist in the state, therefore createFeatureSelector ' + 'cannot access it.  Be sure it is imported in a loaded module ' + `using StoreModule.forRoot('${featureName}', ...) or ` + `StoreModule.forFeature('${featureName}', ...).  If the default ` + 'state is intended to be undefined, as is the case with router ' + 'state, this development-only warning message can be ignored.');\n    }\n\n    return featureState;\n  }, featureState => featureState);\n}\n/**\n * @description\n * A function that accepts a feature name and a feature reducer, and creates\n * a feature selector and a selector for each feature state property.\n *\n * @param featureConfig An object that contains a feature name and a feature reducer.\n * @returns An object that contains a feature name, a feature reducer,\n * a feature selector, and a selector for each feature state property.\n *\n * @usageNotes\n *\n * **With Application State**\n *\n * ```ts\n * interface AppState {\n *   products: ProductsState;\n * }\n *\n * interface ProductsState {\n *   products: Product[];\n *   selectedId: string | null;\n * }\n *\n * const initialState: ProductsState = {\n *   products: [],\n *   selectedId: null,\n * };\n *\n * // AppState is passed as a generic argument\n * const productsFeature = createFeature<AppState>({\n *   name: 'products',\n *   reducer: createReducer(\n *     initialState,\n *     on(ProductsApiActions.loadSuccess(state, { products }) => ({\n *       ...state,\n *       products,\n *     }),\n *   ),\n * });\n *\n * const {\n *   selectProductsState, // type: MemoizedSelector<AppState, ProductsState>\n *   selectProducts, // type: MemoizedSelector<AppState, Product[]>\n *   selectSelectedId, // type: MemoizedSelector<AppState, string | null>\n * } = productsFeature;\n * ```\n *\n * **Without Application State**\n *\n * ```ts\n * const productsFeature = createFeature({\n *   name: 'products',\n *   reducer: createReducer(initialState),\n * });\n *\n * const {\n *   selectProductsState, // type: MemoizedSelector<Record<string, any>, ProductsState>\n *   selectProducts, // type: MemoizedSelector<Record<string, any>, Product[]>\n *   selectSelectedId, // type: MemoizedSelector<Record<string, any, string | null>\n * } = productsFeature;\n * ```\n */\n\n\nfunction createFeature(featureConfig) {\n  const {\n    name,\n    reducer\n  } = featureConfig;\n  const featureSelector = createFeatureSelector(name);\n  const nestedSelectors = createNestedSelectors(featureSelector, reducer);\n  return Object.assign({\n    name,\n    reducer,\n    [`select${capitalize(name)}State`]: featureSelector\n  }, nestedSelectors);\n}\n\nfunction createNestedSelectors(featureSelector, reducer) {\n  const initialState = getInitialState(reducer);\n  const nestedKeys = isPlainObject(initialState) ? Object.keys(initialState) : [];\n  return nestedKeys.reduce((nestedSelectors, nestedKey) => Object.assign(Object.assign({}, nestedSelectors), {\n    [`select${capitalize(nestedKey)}`]: createSelector(featureSelector, parentState => parentState === null || parentState === void 0 ? void 0 : parentState[nestedKey])\n  }), {});\n}\n\nfunction getInitialState(reducer) {\n  return reducer(undefined, {\n    type: '@ngrx/feature/init'\n  });\n}\n\nfunction immutabilityCheckMetaReducer(reducer, checks) {\n  return function (state, action) {\n    const act = checks.action(action) ? freeze(action) : action;\n    const nextState = reducer(state, act);\n    return checks.state() ? freeze(nextState) : nextState;\n  };\n}\n\nfunction freeze(target) {\n  Object.freeze(target);\n  const targetIsFunction = isFunction(target);\n  Object.getOwnPropertyNames(target).forEach(prop => {\n    // Ignore Ivy properties, ref: https://github.com/ngrx/platform/issues/2109#issuecomment-582689060\n    if (prop.startsWith('ɵ')) {\n      return;\n    }\n\n    if (hasOwnProperty(target, prop) && (targetIsFunction ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments' : true)) {\n      const propValue = target[prop];\n\n      if ((isObjectLike(propValue) || isFunction(propValue)) && !Object.isFrozen(propValue)) {\n        freeze(propValue);\n      }\n    }\n  });\n  return target;\n}\n\nfunction serializationCheckMetaReducer(reducer, checks) {\n  return function (state, action) {\n    if (checks.action(action)) {\n      const unserializableAction = getUnserializable(action);\n      throwIfUnserializable(unserializableAction, 'action');\n    }\n\n    const nextState = reducer(state, action);\n\n    if (checks.state()) {\n      const unserializableState = getUnserializable(nextState);\n      throwIfUnserializable(unserializableState, 'state');\n    }\n\n    return nextState;\n  };\n}\n\nfunction getUnserializable(target, path = []) {\n  // Guard against undefined and null, e.g. a reducer that returns undefined\n  if ((isUndefined(target) || isNull(target)) && path.length === 0) {\n    return {\n      path: ['root'],\n      value: target\n    };\n  }\n\n  const keys = Object.keys(target);\n  return keys.reduce((result, key) => {\n    if (result) {\n      return result;\n    }\n\n    const value = target[key]; // Ignore Ivy components\n\n    if (isComponent(value)) {\n      return result;\n    }\n\n    if (isUndefined(value) || isNull(value) || isNumber(value) || isBoolean(value) || isString(value) || isArray(value)) {\n      return false;\n    }\n\n    if (isPlainObject(value)) {\n      return getUnserializable(value, [...path, key]);\n    }\n\n    return {\n      path: [...path, key],\n      value\n    };\n  }, false);\n}\n\nfunction throwIfUnserializable(unserializable, context) {\n  if (unserializable === false) {\n    return;\n  }\n\n  const unserializablePath = unserializable.path.join('.');\n  const error = new Error(`Detected unserializable ${context} at \"${unserializablePath}\". ${RUNTIME_CHECK_URL}#strict${context}serializability`);\n  error.value = unserializable.value;\n  error.unserializablePath = unserializablePath;\n  throw error;\n}\n\nfunction inNgZoneAssertMetaReducer(reducer, checks) {\n  return function (state, action) {\n    if (checks.action(action) && !i0.NgZone.isInAngularZone()) {\n      throw new Error(`Action '${action.type}' running outside NgZone. ${RUNTIME_CHECK_URL}#strictactionwithinngzone`);\n    }\n\n    return reducer(state, action);\n  };\n}\n\nfunction createActiveRuntimeChecks(runtimeChecks) {\n  if (isDevMode()) {\n    return Object.assign({\n      strictStateSerializability: false,\n      strictActionSerializability: false,\n      strictStateImmutability: true,\n      strictActionImmutability: true,\n      strictActionWithinNgZone: false,\n      strictActionTypeUniqueness: false\n    }, runtimeChecks);\n  }\n\n  return {\n    strictStateSerializability: false,\n    strictActionSerializability: false,\n    strictStateImmutability: false,\n    strictActionImmutability: false,\n    strictActionWithinNgZone: false,\n    strictActionTypeUniqueness: false\n  };\n}\n\nfunction createSerializationCheckMetaReducer({\n  strictActionSerializability,\n  strictStateSerializability\n}) {\n  return reducer => strictActionSerializability || strictStateSerializability ? serializationCheckMetaReducer(reducer, {\n    action: action => strictActionSerializability && !ignoreNgrxAction(action),\n    state: () => strictStateSerializability\n  }) : reducer;\n}\n\nfunction createImmutabilityCheckMetaReducer({\n  strictActionImmutability,\n  strictStateImmutability\n}) {\n  return reducer => strictActionImmutability || strictStateImmutability ? immutabilityCheckMetaReducer(reducer, {\n    action: action => strictActionImmutability && !ignoreNgrxAction(action),\n    state: () => strictStateImmutability\n  }) : reducer;\n}\n\nfunction ignoreNgrxAction(action) {\n  return action.type.startsWith('@ngrx');\n}\n\nfunction createInNgZoneCheckMetaReducer({\n  strictActionWithinNgZone\n}) {\n  return reducer => strictActionWithinNgZone ? inNgZoneAssertMetaReducer(reducer, {\n    action: action => strictActionWithinNgZone && !ignoreNgrxAction(action)\n  }) : reducer;\n}\n\nfunction provideRuntimeChecks(runtimeChecks) {\n  return [{\n    provide: _USER_RUNTIME_CHECKS,\n    useValue: runtimeChecks\n  }, {\n    provide: USER_RUNTIME_CHECKS,\n    useFactory: _runtimeChecksFactory,\n    deps: [_USER_RUNTIME_CHECKS]\n  }, {\n    provide: ACTIVE_RUNTIME_CHECKS,\n    deps: [USER_RUNTIME_CHECKS],\n    useFactory: createActiveRuntimeChecks\n  }, {\n    provide: META_REDUCERS,\n    multi: true,\n    deps: [ACTIVE_RUNTIME_CHECKS],\n    useFactory: createImmutabilityCheckMetaReducer\n  }, {\n    provide: META_REDUCERS,\n    multi: true,\n    deps: [ACTIVE_RUNTIME_CHECKS],\n    useFactory: createSerializationCheckMetaReducer\n  }, {\n    provide: META_REDUCERS,\n    multi: true,\n    deps: [ACTIVE_RUNTIME_CHECKS],\n    useFactory: createInNgZoneCheckMetaReducer\n  }];\n}\n\nfunction checkForActionTypeUniqueness() {\n  return [{\n    provide: _ACTION_TYPE_UNIQUENESS_CHECK,\n    multi: true,\n    deps: [ACTIVE_RUNTIME_CHECKS],\n    useFactory: _actionTypeUniquenessCheck\n  }];\n}\n\nfunction _runtimeChecksFactory(runtimeChecks) {\n  return runtimeChecks;\n}\n\nfunction _actionTypeUniquenessCheck(config) {\n  if (!config.strictActionTypeUniqueness) {\n    return;\n  }\n\n  const duplicates = Object.entries(REGISTERED_ACTION_TYPES).filter(([, registrations]) => registrations > 1).map(([type]) => type);\n\n  if (duplicates.length) {\n    throw new Error(`Action types are registered more than once, ${duplicates.map(type => `\"${type}\"`).join(', ')}. ${RUNTIME_CHECK_URL}#strictactiontypeuniqueness`);\n  }\n}\n\nclass StoreRootModule {\n  constructor(actions$, reducer$, scannedActions$, store, guard, actionCheck) {}\n\n}\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nStoreRootModule.ɵfac = function StoreRootModule_Factory(t) {\n  return new (t || StoreRootModule)(i0.ɵɵinject(ActionsSubject), i0.ɵɵinject(ReducerObservable), i0.ɵɵinject(ScannedActionsSubject), i0.ɵɵinject(Store), i0.ɵɵinject(_ROOT_STORE_GUARD, 8), i0.ɵɵinject(_ACTION_TYPE_UNIQUENESS_CHECK, 8));\n};\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nStoreRootModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: StoreRootModule\n});\n/** @nocollapse */\n\n/** @nocollapse */\n\nStoreRootModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(StoreRootModule, [{\n    type: NgModule,\n    args: [{}]\n  }], function () {\n    return [{\n      type: ActionsSubject\n    }, {\n      type: ReducerObservable\n    }, {\n      type: ScannedActionsSubject\n    }, {\n      type: Store\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [_ROOT_STORE_GUARD]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n      }]\n    }];\n  }, null);\n})();\n\nclass StoreFeatureModule {\n  constructor(features, featureReducers, reducerManager, root, actionCheck) {\n    this.features = features;\n    this.featureReducers = featureReducers;\n    this.reducerManager = reducerManager;\n    const feats = features.map((feature, index) => {\n      const featureReducerCollection = featureReducers.shift(); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n      const reducers = featureReducerCollection\n      /*TODO(#823)*/\n      [index];\n      return Object.assign(Object.assign({}, feature), {\n        reducers,\n        initialState: _initialStateFactory(feature.initialState)\n      });\n    });\n    reducerManager.addFeatures(feats);\n  } // eslint-disable-next-line @angular-eslint/contextual-lifecycle\n\n\n  ngOnDestroy() {\n    this.reducerManager.removeFeatures(this.features);\n  }\n\n}\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nStoreFeatureModule.ɵfac = function StoreFeatureModule_Factory(t) {\n  return new (t || StoreFeatureModule)(i0.ɵɵinject(_STORE_FEATURES), i0.ɵɵinject(FEATURE_REDUCERS), i0.ɵɵinject(ReducerManager), i0.ɵɵinject(StoreRootModule), i0.ɵɵinject(_ACTION_TYPE_UNIQUENESS_CHECK, 8));\n};\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nStoreFeatureModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: StoreFeatureModule\n});\n/** @nocollapse */\n\n/** @nocollapse */\n\nStoreFeatureModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(StoreFeatureModule, [{\n    type: NgModule,\n    args: [{}]\n  }], function () {\n    return [{\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [_STORE_FEATURES]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [FEATURE_REDUCERS]\n      }]\n    }, {\n      type: ReducerManager\n    }, {\n      type: StoreRootModule\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Optional\n      }, {\n        type: Inject,\n        args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n      }]\n    }];\n  }, null);\n})();\n\nclass StoreModule {\n  static forRoot(reducers, config = {}) {\n    return {\n      ngModule: StoreRootModule,\n      providers: [{\n        provide: _ROOT_STORE_GUARD,\n        useFactory: _provideForRootGuard,\n        deps: [[Store, new Optional(), new SkipSelf()]]\n      }, {\n        provide: _INITIAL_STATE,\n        useValue: config.initialState\n      }, {\n        provide: INITIAL_STATE,\n        useFactory: _initialStateFactory,\n        deps: [_INITIAL_STATE]\n      }, {\n        provide: _INITIAL_REDUCERS,\n        useValue: reducers\n      }, {\n        provide: _STORE_REDUCERS,\n        useExisting: reducers instanceof InjectionToken ? reducers : _INITIAL_REDUCERS\n      }, {\n        provide: INITIAL_REDUCERS,\n        deps: [Injector, _INITIAL_REDUCERS, [new Inject(_STORE_REDUCERS)]],\n        useFactory: _createStoreReducers\n      }, {\n        provide: USER_PROVIDED_META_REDUCERS,\n        useValue: config.metaReducers ? config.metaReducers : []\n      }, {\n        provide: _RESOLVED_META_REDUCERS,\n        deps: [META_REDUCERS, USER_PROVIDED_META_REDUCERS],\n        useFactory: _concatMetaReducers\n      }, {\n        provide: _REDUCER_FACTORY,\n        useValue: config.reducerFactory ? config.reducerFactory : combineReducers\n      }, {\n        provide: REDUCER_FACTORY,\n        deps: [_REDUCER_FACTORY, _RESOLVED_META_REDUCERS],\n        useFactory: createReducerFactory\n      }, ACTIONS_SUBJECT_PROVIDERS, REDUCER_MANAGER_PROVIDERS, SCANNED_ACTIONS_SUBJECT_PROVIDERS, STATE_PROVIDERS, STORE_PROVIDERS, provideRuntimeChecks(config.runtimeChecks), checkForActionTypeUniqueness()]\n    };\n  }\n\n  static forFeature(featureNameOrSlice, reducers, config = {}) {\n    return {\n      ngModule: StoreFeatureModule,\n      providers: [{\n        provide: _FEATURE_CONFIGS,\n        multi: true,\n        useValue: featureNameOrSlice instanceof Object ? {} : config\n      }, {\n        provide: STORE_FEATURES,\n        multi: true,\n        useValue: {\n          key: featureNameOrSlice instanceof Object ? featureNameOrSlice.name : featureNameOrSlice,\n          reducerFactory: !(config instanceof InjectionToken) && config.reducerFactory ? config.reducerFactory : combineReducers,\n          metaReducers: !(config instanceof InjectionToken) && config.metaReducers ? config.metaReducers : [],\n          initialState: !(config instanceof InjectionToken) && config.initialState ? config.initialState : undefined\n        }\n      }, {\n        provide: _STORE_FEATURES,\n        deps: [Injector, _FEATURE_CONFIGS, STORE_FEATURES],\n        useFactory: _createFeatureStore\n      }, {\n        provide: _FEATURE_REDUCERS,\n        multi: true,\n        useValue: featureNameOrSlice instanceof Object ? featureNameOrSlice.reducer : reducers\n      }, {\n        provide: _FEATURE_REDUCERS_TOKEN,\n        multi: true,\n        useExisting: reducers instanceof InjectionToken ? reducers : _FEATURE_REDUCERS\n      }, {\n        provide: FEATURE_REDUCERS,\n        multi: true,\n        deps: [Injector, _FEATURE_REDUCERS, [new Inject(_FEATURE_REDUCERS_TOKEN)]],\n        useFactory: _createFeatureReducers\n      }, checkForActionTypeUniqueness()]\n    };\n  }\n\n}\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nStoreModule.ɵfac = function StoreModule_Factory(t) {\n  return new (t || StoreModule)();\n};\n/** @nocollapse */\n\n/** @nocollapse */\n\n\nStoreModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: StoreModule\n});\n/** @nocollapse */\n\n/** @nocollapse */\n\nStoreModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(StoreModule, [{\n    type: NgModule,\n    args: [{}]\n  }], null, null);\n})();\n\nfunction _createStoreReducers(injector, reducers) {\n  return reducers instanceof InjectionToken ? injector.get(reducers) : reducers;\n}\n\nfunction _createFeatureStore(injector, configs, featureStores) {\n  return featureStores.map((feat, index) => {\n    if (configs[index] instanceof InjectionToken) {\n      const conf = injector.get(configs[index]);\n      return {\n        key: feat.key,\n        reducerFactory: conf.reducerFactory ? conf.reducerFactory : combineReducers,\n        metaReducers: conf.metaReducers ? conf.metaReducers : [],\n        initialState: conf.initialState\n      };\n    }\n\n    return feat;\n  });\n}\n\nfunction _createFeatureReducers(injector, reducerCollection) {\n  const reducers = reducerCollection.map(reducer => {\n    return reducer instanceof InjectionToken ? injector.get(reducer) : reducer;\n  });\n  return reducers;\n}\n\nfunction _initialStateFactory(initialState) {\n  if (typeof initialState === 'function') {\n    return initialState();\n  }\n\n  return initialState;\n}\n\nfunction _concatMetaReducers(metaReducers, userProvidedMetaReducers) {\n  return metaReducers.concat(userProvidedMetaReducers);\n}\n\nfunction _provideForRootGuard(store) {\n  if (store) {\n    throw new TypeError(`StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.`);\n  }\n\n  return 'guarded';\n}\n/**\n * @description\n * Associates actions with a given state change function.\n * A state change function must be provided as the last parameter.\n *\n * @param args `ActionCreator`'s followed by a state change function.\n *\n * @returns an association of action types with a state change function.\n *\n * @usageNotes\n * ```ts\n * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))\n * ```\n */\n\n\nfunction on(...args) {\n  // This could be refactored when TS releases the version with this fix:\n  // https://github.com/microsoft/TypeScript/pull/41544\n  const reducer = args.pop();\n  const types = args.map(creator => creator.type);\n  return {\n    reducer,\n    types\n  };\n}\n/**\n * @description\n * Creates a reducer function to handle state transitions.\n *\n * Reducer creators reduce the explicitness of reducer functions with switch statements.\n *\n * @param initialState Provides a state value if the current state is `undefined`, as it is initially.\n * @param ons Associations between actions and state changes.\n * @returns A reducer function.\n *\n * @usageNotes\n *\n * - Must be used with `ActionCreator`'s (returned by `createAction`). Cannot be used with class-based action creators.\n * - The returned `ActionReducer` should additionally be wrapped with another function, if you are using View Engine AOT.\n * In case you are using Ivy (or only JIT View Engine) the extra wrapper function is not required.\n *\n * **Declaring a reducer creator**\n *\n * ```ts\n * export const reducer = createReducer(\n *   initialState,\n *   on(\n *     featureActions.actionOne,\n *     featureActions.actionTwo,\n *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })\n *   ),\n *   on(featureActions.actionThree, () => initialState);\n * );\n * ```\n *\n * **Declaring a reducer creator using a wrapper function (Only needed if using View Engine AOT)**\n *\n * ```ts\n * const featureReducer = createReducer(\n *   initialState,\n *   on(\n *     featureActions.actionOne,\n *     featureActions.actionTwo,\n *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })\n *   ),\n *   on(featureActions.actionThree, () => initialState);\n * );\n *\n * export function reducer(state: State | undefined, action: Action) {\n *   return featureReducer(state, action);\n * }\n * ```\n */\n\n\nfunction createReducer(initialState, ...ons) {\n  const map = new Map();\n\n  for (const on of ons) {\n    for (const type of on.types) {\n      const existingReducer = map.get(type);\n\n      if (existingReducer) {\n        const newReducer = (state, action) => on.reducer(existingReducer(state, action), action);\n\n        map.set(type, newReducer);\n      } else {\n        map.set(type, on.reducer);\n      }\n    }\n  }\n\n  return function (state = initialState, action) {\n    const reducer = map.get(action.type);\n    return reducer ? reducer(state, action) : state;\n  };\n}\n/**\n * DO NOT EDIT\n *\n * This file is automatically generated at build\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { ACTIVE_RUNTIME_CHECKS, ActionsSubject, FEATURE_REDUCERS, INIT, INITIAL_REDUCERS, INITIAL_STATE, META_REDUCERS, REDUCER_FACTORY, ReducerManager, ReducerManagerDispatcher, ReducerObservable, STORE_FEATURES, ScannedActionsSubject, State, StateObservable, Store, StoreFeatureModule, StoreModule, StoreRootModule, UPDATE, USER_PROVIDED_META_REDUCERS, USER_RUNTIME_CHECKS, combineReducers, compose, createAction, createFeature, createFeatureSelector, createReducer, createReducerFactory, createSelector, createSelectorFactory, defaultMemoize, defaultStateFn, isNgrxMockEnvironment, on, props, reduceState, resultMemoize, select, setNgrxMockEnvironment, union };","map":{"version":3,"sources":["/Users/leon/workspace/node-avatar-generator/node_modules/@ngrx/store/fesm2015/ngrx-store.mjs"],"names":["i0","Injectable","InjectionToken","Inject","isDevMode","NgModule","Optional","SkipSelf","Injector","BehaviorSubject","Observable","Subject","queueScheduler","observeOn","withLatestFrom","scan","pluck","map","distinctUntilChanged","REGISTERED_ACTION_TYPES","resetRegisteredActionTypes","key","Object","keys","createAction","type","config","defineType","args","assign","as","_as","props","Error","_p","undefined","union","creators","creator","defineProperty","value","writable","INIT","ActionsSubject","constructor","next","action","TypeError","complete","ngOnDestroy","ɵfac","ɵprov","ACTIONS_SUBJECT_PROVIDERS","_ROOT_STORE_GUARD","_INITIAL_STATE","INITIAL_STATE","REDUCER_FACTORY","_REDUCER_FACTORY","INITIAL_REDUCERS","_INITIAL_REDUCERS","STORE_FEATURES","_STORE_REDUCERS","_FEATURE_REDUCERS","_FEATURE_CONFIGS","_STORE_FEATURES","_FEATURE_REDUCERS_TOKEN","FEATURE_REDUCERS","USER_PROVIDED_META_REDUCERS","META_REDUCERS","_RESOLVED_META_REDUCERS","USER_RUNTIME_CHECKS","_USER_RUNTIME_CHECKS","ACTIVE_RUNTIME_CHECKS","_ACTION_TYPE_UNIQUENESS_CHECK","combineReducers","reducers","initialState","reducerKeys","finalReducers","i","length","finalReducerKeys","combination","state","hasChanged","nextState","reducer","previousStateForKey","nextStateForKey","omit","object","keyToRemove","filter","reduce","result","compose","functions","arg","last","rest","slice","reduceRight","composed","fn","createReducerFactory","reducerFactory","metaReducers","Array","isArray","apply","createFeatureReducerFactory","r","ReducerObservable","ReducerManagerDispatcher","UPDATE","ReducerManager","dispatcher","currentReducers","addFeature","feature","addFeatures","features","reducerDict","addReducers","removeFeature","removeFeatures","removeReducers","p","addReducer","updateReducers","removeReducer","featureKey","featureKeys","forEach","decorators","REDUCER_MANAGER_PROVIDERS","provide","useExisting","ScannedActionsSubject","SCANNED_ACTIONS_SUBJECT_PROVIDERS","StateObservable","State","actions$","reducer$","scannedActions","actionsOnQueue$","pipe","withLatestReducer$","seed","stateAndAction$","reduceState","stateSubscription","subscribe","unsubscribe","stateActionPair","STATE_PROVIDERS","Store","state$","actionsObserver","reducerManager","source","select","pathOrMapFn","paths","call","lift","operator","store","dispatch","error","err","STORE_PROVIDERS","propsOrPath","selectOperator","source$","mapped$","pathSlices","Boolean","capitalize","text","charAt","toUpperCase","substr","RUNTIME_CHECK_URL","isUndefined","target","isNull","isString","isBoolean","isNumber","isObjectLike","isObject","isPlainObject","targetPrototype","getPrototypeOf","prototype","isFunction","isComponent","hasOwnProperty","propertyName","_ngrxMockEnvironment","setNgrxMockEnvironment","isNgrxMockEnvironment","isEqualCheck","a","b","isArgumentsChanged","lastArguments","comparator","resultMemoize","projectionFn","isResultEqual","defaultMemoize","isArgumentsEqual","lastResult","overrideResult","reset","setResult","clearResult","memoized","arguments","newResult","createSelector","input","createSelectorFactory","defaultStateFn","selectors","memoizedProjector","memoize","options","stateFn","head","tail","projector","memoizedSelectors","selector","release","memoizedState","createFeatureSelector","featureName","featureState","console","warn","createFeature","featureConfig","name","featureSelector","nestedSelectors","createNestedSelectors","getInitialState","nestedKeys","nestedKey","parentState","immutabilityCheckMetaReducer","checks","act","freeze","targetIsFunction","getOwnPropertyNames","prop","startsWith","propValue","isFrozen","serializationCheckMetaReducer","unserializableAction","getUnserializable","throwIfUnserializable","unserializableState","path","unserializable","context","unserializablePath","join","inNgZoneAssertMetaReducer","NgZone","isInAngularZone","createActiveRuntimeChecks","runtimeChecks","strictStateSerializability","strictActionSerializability","strictStateImmutability","strictActionImmutability","strictActionWithinNgZone","strictActionTypeUniqueness","createSerializationCheckMetaReducer","ignoreNgrxAction","createImmutabilityCheckMetaReducer","createInNgZoneCheckMetaReducer","provideRuntimeChecks","useValue","useFactory","_runtimeChecksFactory","deps","multi","checkForActionTypeUniqueness","_actionTypeUniquenessCheck","duplicates","entries","registrations","StoreRootModule","scannedActions$","guard","actionCheck","ɵmod","ɵinj","StoreFeatureModule","featureReducers","root","feats","index","featureReducerCollection","shift","_initialStateFactory","StoreModule","forRoot","ngModule","providers","_provideForRootGuard","_createStoreReducers","_concatMetaReducers","forFeature","featureNameOrSlice","_createFeatureStore","_createFeatureReducers","injector","get","configs","featureStores","feat","conf","reducerCollection","userProvidedMetaReducers","concat","on","pop","types","createReducer","ons","Map","existingReducer","newReducer","set"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, Inject, isDevMode, NgModule, Optional, SkipSelf, Injector } from '@angular/core';\nimport { BehaviorSubject, Observable, Subject, queueScheduler } from 'rxjs';\nimport { observeOn, withLatestFrom, scan, pluck, map, distinctUntilChanged } from 'rxjs/operators';\n\nconst REGISTERED_ACTION_TYPES = {};\nfunction resetRegisteredActionTypes() {\n    for (const key of Object.keys(REGISTERED_ACTION_TYPES)) {\n        delete REGISTERED_ACTION_TYPES[key];\n    }\n}\n\n/**\n * @description\n * Creates a configured `Creator` function that, when called, returns an object in the shape of the `Action` interface.\n *\n * Action creators reduce the explicitness of class-based action creators.\n *\n * @param type Describes the action that will be dispatched\n * @param config Additional metadata needed for the handling of the action.  See {@link createAction#usage-notes Usage Notes}.\n *\n * @usageNotes\n *\n * **Declaring an action creator**\n *\n * Without additional metadata:\n * ```ts\n * export const increment = createAction('[Counter] Increment');\n * ```\n * With additional metadata:\n * ```ts\n * export const loginSuccess = createAction(\n *   '[Auth/API] Login Success',\n *   props<{ user: User }>()\n * );\n * ```\n * With a function:\n * ```ts\n * export const loginSuccess = createAction(\n *   '[Auth/API] Login Success',\n *   (response: Response) => response.user\n * );\n * ```\n *\n * **Dispatching an action**\n *\n * Without additional metadata:\n * ```ts\n * store.dispatch(increment());\n * ```\n * With additional metadata:\n * ```ts\n * store.dispatch(loginSuccess({ user: newUser }));\n * ```\n *\n * **Referencing an action in a reducer**\n *\n * Using a switch statement:\n * ```ts\n * switch (action.type) {\n *   // ...\n *   case AuthApiActions.loginSuccess.type: {\n *     return {\n *       ...state,\n *       user: action.user\n *     };\n *   }\n * }\n * ```\n * Using a reducer creator:\n * ```ts\n * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))\n * ```\n *\n *  **Referencing an action in an effect**\n * ```ts\n * effectName$ = createEffect(\n *   () => this.actions$.pipe(\n *     ofType(AuthApiActions.loginSuccess),\n *     // ...\n *   )\n * );\n * ```\n */\nfunction createAction(type, config) {\n    REGISTERED_ACTION_TYPES[type] = (REGISTERED_ACTION_TYPES[type] || 0) + 1;\n    if (typeof config === 'function') {\n        return defineType(type, (...args) => (Object.assign(Object.assign({}, config(...args)), { type })));\n    }\n    const as = config ? config._as : 'empty';\n    switch (as) {\n        case 'empty':\n            return defineType(type, () => ({ type }));\n        case 'props':\n            return defineType(type, (props) => (Object.assign(Object.assign({}, props), { type })));\n        default:\n            throw new Error('Unexpected config.');\n    }\n}\nfunction props() {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/naming-convention\n    return { _as: 'props', _p: undefined };\n}\nfunction union(creators) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return undefined;\n}\nfunction defineType(type, creator) {\n    return Object.defineProperty(creator, 'type', {\n        value: type,\n        writable: false,\n    });\n}\n\nconst INIT = '@ngrx/store/init';\nclass ActionsSubject extends BehaviorSubject {\n    constructor() {\n        super({ type: INIT });\n    }\n    next(action) {\n        if (typeof action === 'function') {\n            throw new TypeError(`\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().`);\n        }\n        else if (typeof action === 'undefined') {\n            throw new TypeError(`Actions must be objects`);\n        }\n        else if (typeof action.type === 'undefined') {\n            throw new TypeError(`Actions must have a type property`);\n        }\n        super.next(action);\n    }\n    complete() {\n        /* noop */\n    }\n    ngOnDestroy() {\n        super.complete();\n    }\n}\n/** @nocollapse */ /** @nocollapse */ ActionsSubject.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: ActionsSubject, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ /** @nocollapse */ ActionsSubject.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: ActionsSubject });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: ActionsSubject, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return []; } });\nconst ACTIONS_SUBJECT_PROVIDERS = [ActionsSubject];\n\nconst _ROOT_STORE_GUARD = new InjectionToken('@ngrx/store Internal Root Guard');\nconst _INITIAL_STATE = new InjectionToken('@ngrx/store Internal Initial State');\nconst INITIAL_STATE = new InjectionToken('@ngrx/store Initial State');\nconst REDUCER_FACTORY = new InjectionToken('@ngrx/store Reducer Factory');\nconst _REDUCER_FACTORY = new InjectionToken('@ngrx/store Internal Reducer Factory Provider');\nconst INITIAL_REDUCERS = new InjectionToken('@ngrx/store Initial Reducers');\nconst _INITIAL_REDUCERS = new InjectionToken('@ngrx/store Internal Initial Reducers');\nconst STORE_FEATURES = new InjectionToken('@ngrx/store Store Features');\nconst _STORE_REDUCERS = new InjectionToken('@ngrx/store Internal Store Reducers');\nconst _FEATURE_REDUCERS = new InjectionToken('@ngrx/store Internal Feature Reducers');\nconst _FEATURE_CONFIGS = new InjectionToken('@ngrx/store Internal Feature Configs');\nconst _STORE_FEATURES = new InjectionToken('@ngrx/store Internal Store Features');\nconst _FEATURE_REDUCERS_TOKEN = new InjectionToken('@ngrx/store Internal Feature Reducers Token');\nconst FEATURE_REDUCERS = new InjectionToken('@ngrx/store Feature Reducers');\n/**\n * User-defined meta reducers from StoreModule.forRoot()\n */\nconst USER_PROVIDED_META_REDUCERS = new InjectionToken('@ngrx/store User Provided Meta Reducers');\n/**\n * Meta reducers defined either internally by @ngrx/store or by library authors\n */\nconst META_REDUCERS = new InjectionToken('@ngrx/store Meta Reducers');\n/**\n * Concats the user provided meta reducers and the meta reducers provided on the multi\n * injection token\n */\nconst _RESOLVED_META_REDUCERS = new InjectionToken('@ngrx/store Internal Resolved Meta Reducers');\n/**\n * Runtime checks defined by the user via an InjectionToken\n * Defaults to `_USER_RUNTIME_CHECKS`\n */\nconst USER_RUNTIME_CHECKS = new InjectionToken('@ngrx/store User Runtime Checks Config');\n/**\n * Runtime checks defined by the user via forRoot()\n */\nconst _USER_RUNTIME_CHECKS = new InjectionToken('@ngrx/store Internal User Runtime Checks Config');\n/**\n * Runtime checks currently in use\n */\nconst ACTIVE_RUNTIME_CHECKS = new InjectionToken('@ngrx/store Internal Runtime Checks');\nconst _ACTION_TYPE_UNIQUENESS_CHECK = new InjectionToken('@ngrx/store Check if Action types are unique');\n\n/**\n * @description\n * Combines reducers for individual features into a single reducer.\n *\n * You can use this function to delegate handling of state transitions to multiple reducers, each acting on their\n * own sub-state within the root state.\n *\n * @param reducers An object mapping keys of the root state to their corresponding feature reducer.\n * @param initialState Provides a state value if the current state is `undefined`, as it is initially.\n * @returns A reducer function.\n *\n * @usageNotes\n *\n * **Example combining two feature reducers into one \"root\" reducer**\n *\n * ```ts\n * export const reducer = combineReducers({\n *   featureA: featureAReducer,\n *   featureB: featureBReducer\n * });\n * ```\n *\n * You can also override the initial states of the sub-features:\n * ```ts\n * export const reducer = combineReducers({\n *   featureA: featureAReducer,\n *   featureB: featureBReducer\n * }, {\n *   featureA: { counterA: 13 },\n *   featureB: { counterB: 37 }\n * });\n * ```\n */\nfunction combineReducers(reducers, initialState = {}) {\n    const reducerKeys = Object.keys(reducers);\n    const finalReducers = {};\n    for (let i = 0; i < reducerKeys.length; i++) {\n        const key = reducerKeys[i];\n        if (typeof reducers[key] === 'function') {\n            finalReducers[key] = reducers[key];\n        }\n    }\n    const finalReducerKeys = Object.keys(finalReducers);\n    return function combination(state, action) {\n        state = state === undefined ? initialState : state;\n        let hasChanged = false;\n        const nextState = {};\n        for (let i = 0; i < finalReducerKeys.length; i++) {\n            const key = finalReducerKeys[i];\n            const reducer = finalReducers[key];\n            const previousStateForKey = state[key];\n            const nextStateForKey = reducer(previousStateForKey, action);\n            nextState[key] = nextStateForKey;\n            hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n        }\n        return hasChanged ? nextState : state;\n    };\n}\nfunction omit(object, keyToRemove) {\n    return Object.keys(object)\n        .filter((key) => key !== keyToRemove)\n        .reduce((result, key) => Object.assign(result, { [key]: object[key] }), {});\n}\nfunction compose(...functions) {\n    return function (arg) {\n        if (functions.length === 0) {\n            return arg;\n        }\n        const last = functions[functions.length - 1];\n        const rest = functions.slice(0, -1);\n        return rest.reduceRight((composed, fn) => fn(composed), last(arg));\n    };\n}\nfunction createReducerFactory(reducerFactory, metaReducers) {\n    if (Array.isArray(metaReducers) && metaReducers.length > 0) {\n        reducerFactory = compose.apply(null, [\n            ...metaReducers,\n            reducerFactory,\n        ]);\n    }\n    return (reducers, initialState) => {\n        const reducer = reducerFactory(reducers);\n        return (state, action) => {\n            state = state === undefined ? initialState : state;\n            return reducer(state, action);\n        };\n    };\n}\nfunction createFeatureReducerFactory(metaReducers) {\n    const reducerFactory = Array.isArray(metaReducers) && metaReducers.length > 0\n        ? compose(...metaReducers)\n        : (r) => r;\n    return (reducer, initialState) => {\n        reducer = reducerFactory(reducer);\n        return (state, action) => {\n            state = state === undefined ? initialState : state;\n            return reducer(state, action);\n        };\n    };\n}\n\nclass ReducerObservable extends Observable {\n}\nclass ReducerManagerDispatcher extends ActionsSubject {\n}\nconst UPDATE = '@ngrx/store/update-reducers';\nclass ReducerManager extends BehaviorSubject {\n    constructor(dispatcher, initialState, reducers, reducerFactory) {\n        super(reducerFactory(reducers, initialState));\n        this.dispatcher = dispatcher;\n        this.initialState = initialState;\n        this.reducers = reducers;\n        this.reducerFactory = reducerFactory;\n    }\n    get currentReducers() {\n        return this.reducers;\n    }\n    addFeature(feature) {\n        this.addFeatures([feature]);\n    }\n    addFeatures(features) {\n        const reducers = features.reduce((reducerDict, { reducers, reducerFactory, metaReducers, initialState, key }) => {\n            const reducer = typeof reducers === 'function'\n                ? createFeatureReducerFactory(metaReducers)(reducers, initialState)\n                : createReducerFactory(reducerFactory, metaReducers)(reducers, initialState);\n            reducerDict[key] = reducer;\n            return reducerDict;\n        }, {});\n        this.addReducers(reducers);\n    }\n    removeFeature(feature) {\n        this.removeFeatures([feature]);\n    }\n    removeFeatures(features) {\n        this.removeReducers(features.map((p) => p.key));\n    }\n    addReducer(key, reducer) {\n        this.addReducers({ [key]: reducer });\n    }\n    addReducers(reducers) {\n        this.reducers = Object.assign(Object.assign({}, this.reducers), reducers);\n        this.updateReducers(Object.keys(reducers));\n    }\n    removeReducer(featureKey) {\n        this.removeReducers([featureKey]);\n    }\n    removeReducers(featureKeys) {\n        featureKeys.forEach((key) => {\n            this.reducers = omit(this.reducers, key) /*TODO(#823)*/;\n        });\n        this.updateReducers(featureKeys);\n    }\n    updateReducers(featureKeys) {\n        this.next(this.reducerFactory(this.reducers, this.initialState));\n        this.dispatcher.next({\n            type: UPDATE,\n            features: featureKeys,\n        });\n    }\n    ngOnDestroy() {\n        this.complete();\n    }\n}\n/** @nocollapse */ /** @nocollapse */ ReducerManager.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: ReducerManager, deps: [{ token: ReducerManagerDispatcher }, { token: INITIAL_STATE }, { token: INITIAL_REDUCERS }, { token: REDUCER_FACTORY }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ /** @nocollapse */ ReducerManager.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: ReducerManager });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: ReducerManager, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () {\n        return [{ type: ReducerManagerDispatcher }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [INITIAL_STATE]\n                    }] }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [INITIAL_REDUCERS]\n                    }] }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [REDUCER_FACTORY]\n                    }] }];\n    } });\nconst REDUCER_MANAGER_PROVIDERS = [\n    ReducerManager,\n    { provide: ReducerObservable, useExisting: ReducerManager },\n    { provide: ReducerManagerDispatcher, useExisting: ActionsSubject },\n];\n\nclass ScannedActionsSubject extends Subject {\n    ngOnDestroy() {\n        this.complete();\n    }\n}\n/** @nocollapse */ /** @nocollapse */ ScannedActionsSubject.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: ScannedActionsSubject, deps: null, target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ /** @nocollapse */ ScannedActionsSubject.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: ScannedActionsSubject });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: ScannedActionsSubject, decorators: [{\n            type: Injectable\n        }] });\nconst SCANNED_ACTIONS_SUBJECT_PROVIDERS = [\n    ScannedActionsSubject,\n];\n\nclass StateObservable extends Observable {\n}\nclass State extends BehaviorSubject {\n    constructor(actions$, reducer$, scannedActions, initialState) {\n        super(initialState);\n        const actionsOnQueue$ = actions$.pipe(observeOn(queueScheduler));\n        const withLatestReducer$ = actionsOnQueue$.pipe(withLatestFrom(reducer$));\n        const seed = { state: initialState };\n        const stateAndAction$ = withLatestReducer$.pipe(scan(reduceState, seed));\n        this.stateSubscription = stateAndAction$.subscribe(({ state, action }) => {\n            this.next(state);\n            scannedActions.next(action);\n        });\n    }\n    ngOnDestroy() {\n        this.stateSubscription.unsubscribe();\n        this.complete();\n    }\n}\nState.INIT = INIT;\n/** @nocollapse */ /** @nocollapse */ State.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: State, deps: [{ token: ActionsSubject }, { token: ReducerObservable }, { token: ScannedActionsSubject }, { token: INITIAL_STATE }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ /** @nocollapse */ State.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: State });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: State, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () {\n        return [{ type: ActionsSubject }, { type: ReducerObservable }, { type: ScannedActionsSubject }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [INITIAL_STATE]\n                    }] }];\n    } });\nfunction reduceState(stateActionPair = { state: undefined }, [action, reducer]) {\n    const { state } = stateActionPair;\n    return { state: reducer(state, action), action };\n}\nconst STATE_PROVIDERS = [\n    State,\n    { provide: StateObservable, useExisting: State },\n];\n\n/* eslint-disable @typescript-eslint/naming-convention */\nclass Store extends Observable {\n    constructor(state$, actionsObserver, reducerManager) {\n        super();\n        this.actionsObserver = actionsObserver;\n        this.reducerManager = reducerManager;\n        this.source = state$;\n    }\n    select(pathOrMapFn, ...paths) {\n        return select.call(null, pathOrMapFn, ...paths)(this);\n    }\n    lift(operator) {\n        const store = new Store(this, this.actionsObserver, this.reducerManager);\n        store.operator = operator;\n        return store;\n    }\n    dispatch(action) {\n        this.actionsObserver.next(action);\n    }\n    next(action) {\n        this.actionsObserver.next(action);\n    }\n    error(err) {\n        this.actionsObserver.error(err);\n    }\n    complete() {\n        this.actionsObserver.complete();\n    }\n    addReducer(key, reducer) {\n        this.reducerManager.addReducer(key, reducer);\n    }\n    removeReducer(key) {\n        this.reducerManager.removeReducer(key);\n    }\n}\n/** @nocollapse */ /** @nocollapse */ Store.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: Store, deps: [{ token: StateObservable }, { token: ActionsSubject }, { token: ReducerManager }], target: i0.ɵɵFactoryTarget.Injectable });\n/** @nocollapse */ /** @nocollapse */ Store.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: Store });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: Store, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: StateObservable }, { type: ActionsSubject }, { type: ReducerManager }]; } });\nconst STORE_PROVIDERS = [Store];\nfunction select(pathOrMapFn, propsOrPath, ...paths) {\n    return function selectOperator(source$) {\n        let mapped$;\n        if (typeof pathOrMapFn === 'string') {\n            const pathSlices = [propsOrPath, ...paths].filter(Boolean);\n            mapped$ = source$.pipe(pluck(pathOrMapFn, ...pathSlices));\n        }\n        else if (typeof pathOrMapFn === 'function') {\n            mapped$ = source$.pipe(map((source) => pathOrMapFn(source, propsOrPath)));\n        }\n        else {\n            throw new TypeError(`Unexpected type '${typeof pathOrMapFn}' in select operator,` +\n                ` expected 'string' or 'function'`);\n        }\n        return mapped$.pipe(distinctUntilChanged());\n    };\n}\n\nfunction capitalize(text) {\n    return (text.charAt(0).toUpperCase() + text.substr(1));\n}\n\nconst RUNTIME_CHECK_URL = 'https://ngrx.io/guide/store/configuration/runtime-checks';\nfunction isUndefined(target) {\n    return target === undefined;\n}\nfunction isNull(target) {\n    return target === null;\n}\nfunction isArray(target) {\n    return Array.isArray(target);\n}\nfunction isString(target) {\n    return typeof target === 'string';\n}\nfunction isBoolean(target) {\n    return typeof target === 'boolean';\n}\nfunction isNumber(target) {\n    return typeof target === 'number';\n}\nfunction isObjectLike(target) {\n    return typeof target === 'object' && target !== null;\n}\nfunction isObject(target) {\n    return isObjectLike(target) && !isArray(target);\n}\nfunction isPlainObject(target) {\n    if (!isObject(target)) {\n        return false;\n    }\n    const targetPrototype = Object.getPrototypeOf(target);\n    return targetPrototype === Object.prototype || targetPrototype === null;\n}\nfunction isFunction(target) {\n    return typeof target === 'function';\n}\nfunction isComponent(target) {\n    return isFunction(target) && target.hasOwnProperty('ɵcmp');\n}\nfunction hasOwnProperty(target, propertyName) {\n    return Object.prototype.hasOwnProperty.call(target, propertyName);\n}\n\nlet _ngrxMockEnvironment = false;\nfunction setNgrxMockEnvironment(value) {\n    _ngrxMockEnvironment = value;\n}\nfunction isNgrxMockEnvironment() {\n    return _ngrxMockEnvironment;\n}\n\nfunction isEqualCheck(a, b) {\n    return a === b;\n}\nfunction isArgumentsChanged(args, lastArguments, comparator) {\n    for (let i = 0; i < args.length; i++) {\n        if (!comparator(args[i], lastArguments[i])) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction resultMemoize(projectionFn, isResultEqual) {\n    return defaultMemoize(projectionFn, isEqualCheck, isResultEqual);\n}\nfunction defaultMemoize(projectionFn, isArgumentsEqual = isEqualCheck, isResultEqual = isEqualCheck) {\n    let lastArguments = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, , , , ,\n    let lastResult = null;\n    let overrideResult;\n    function reset() {\n        lastArguments = null;\n        lastResult = null;\n    }\n    function setResult(result = undefined) {\n        overrideResult = { result };\n    }\n    function clearResult() {\n        overrideResult = undefined;\n    }\n    /* eslint-disable prefer-rest-params, prefer-spread */\n    // disabled because of the use of `arguments`\n    function memoized() {\n        if (overrideResult !== undefined) {\n            return overrideResult.result;\n        }\n        if (!lastArguments) {\n            lastResult = projectionFn.apply(null, arguments);\n            lastArguments = arguments;\n            return lastResult;\n        }\n        if (!isArgumentsChanged(arguments, lastArguments, isArgumentsEqual)) {\n            return lastResult;\n        }\n        const newResult = projectionFn.apply(null, arguments);\n        lastArguments = arguments;\n        if (isResultEqual(lastResult, newResult)) {\n            return lastResult;\n        }\n        lastResult = newResult;\n        return newResult;\n    }\n    return { memoized, reset, setResult, clearResult };\n}\nfunction createSelector(...input) {\n    return createSelectorFactory(defaultMemoize)(...input);\n}\nfunction defaultStateFn(state, selectors, props, memoizedProjector) {\n    if (props === undefined) {\n        const args = selectors.map((fn) => fn(state));\n        return memoizedProjector.memoized.apply(null, args);\n    }\n    const args = selectors.map((fn) => fn(state, props));\n    return memoizedProjector.memoized.apply(null, [...args, props]);\n}\n/**\n *\n * @param memoize The function used to memoize selectors\n * @param options Config Object that may include a `stateFn` function defining how to return the selector's value, given the entire `Store`'s state, parent `Selector`s, `Props`, and a `MemoizedProjection`\n *\n * @usageNotes\n *\n * **Creating a Selector Factory Where Array Order Does Not Matter**\n *\n * ```ts\n * function removeMatch(arr: string[], target: string): string[] {\n *   const matchIndex = arr.indexOf(target);\n *   return [...arr.slice(0, matchIndex), ...arr.slice(matchIndex + 1)];\n * }\n *\n * function orderDoesNotMatterComparer(a: any, b: any): boolean {\n *   if (!Array.isArray(a) || !Array.isArray(b)) {\n *     return a === b;\n *   }\n *   if (a.length !== b.length) {\n *     return false;\n *   }\n *   let tempB = [...b];\n *   function reduceToDetermineIfArraysContainSameContents(\n *     previousCallResult: boolean,\n *     arrayMember: any\n *   ): boolean {\n *     if (previousCallResult === false) {\n *       return false;\n *     }\n *     if (tempB.includes(arrayMember)) {\n *       tempB = removeMatch(tempB, arrayMember);\n *       return true;\n *     }\n *     return false;\n *   }\n *   return a.reduce(reduceToDetermineIfArraysContainSameContents, true);\n * }\n *\n * export const creactOrderDoesNotMatterSelector = createSelectorFactory(\n *   (projectionFun) => defaultMemoize(\n *     projectionFun,\n *     orderDoesNotMatterComparer,\n *     orderDoesNotMatterComparer\n *   )\n * );\n * ```\n *\n * **Creating an Alternative Memoization Strategy**\n *\n * ```ts\n * function serialize(x: any): string {\n *   return JSON.stringify(x);\n * }\n *\n * export const createFullHistorySelector = createSelectorFactory(\n *  (projectionFunction) => {\n *    const cache = {};\n *\n *    function memoized() {\n *      const serializedArguments = serialize(...arguments);\n *       if (cache[serializedArguments] != null) {\n *         cache[serializedArguments] = projectionFunction.apply(null, arguments);\n *       }\n *       return cache[serializedArguments];\n *     }\n *     return {\n *       memoized,\n *       reset: () => {},\n *       setResult: () => {},\n *       clearResult: () => {},\n *     };\n *   }\n * );\n * ```\n *\n *\n */\nfunction createSelectorFactory(memoize, options = {\n    stateFn: defaultStateFn,\n}) {\n    return function (...input) {\n        let args = input;\n        if (Array.isArray(args[0])) {\n            const [head, ...tail] = args;\n            args = [...head, ...tail];\n        }\n        const selectors = args.slice(0, args.length - 1);\n        const projector = args[args.length - 1];\n        const memoizedSelectors = selectors.filter((selector) => selector.release && typeof selector.release === 'function');\n        const memoizedProjector = memoize(function (...selectors) {\n            return projector.apply(null, selectors);\n        });\n        const memoizedState = defaultMemoize(function (state, props) {\n            return options.stateFn.apply(null, [\n                state,\n                selectors,\n                props,\n                memoizedProjector,\n            ]);\n        });\n        function release() {\n            memoizedState.reset();\n            memoizedProjector.reset();\n            memoizedSelectors.forEach((selector) => selector.release());\n        }\n        return Object.assign(memoizedState.memoized, {\n            release,\n            projector: memoizedProjector.memoized,\n            setResult: memoizedState.setResult,\n            clearResult: memoizedState.clearResult,\n        });\n    };\n}\nfunction createFeatureSelector(featureName) {\n    return createSelector((state) => {\n        const featureState = state[featureName];\n        if (!isNgrxMockEnvironment() && isDevMode() && !(featureName in state)) {\n            console.warn(`@ngrx/store: The feature name \"${featureName}\" does ` +\n                'not exist in the state, therefore createFeatureSelector ' +\n                'cannot access it.  Be sure it is imported in a loaded module ' +\n                `using StoreModule.forRoot('${featureName}', ...) or ` +\n                `StoreModule.forFeature('${featureName}', ...).  If the default ` +\n                'state is intended to be undefined, as is the case with router ' +\n                'state, this development-only warning message can be ignored.');\n        }\n        return featureState;\n    }, (featureState) => featureState);\n}\n\n/**\n * @description\n * A function that accepts a feature name and a feature reducer, and creates\n * a feature selector and a selector for each feature state property.\n *\n * @param featureConfig An object that contains a feature name and a feature reducer.\n * @returns An object that contains a feature name, a feature reducer,\n * a feature selector, and a selector for each feature state property.\n *\n * @usageNotes\n *\n * **With Application State**\n *\n * ```ts\n * interface AppState {\n *   products: ProductsState;\n * }\n *\n * interface ProductsState {\n *   products: Product[];\n *   selectedId: string | null;\n * }\n *\n * const initialState: ProductsState = {\n *   products: [],\n *   selectedId: null,\n * };\n *\n * // AppState is passed as a generic argument\n * const productsFeature = createFeature<AppState>({\n *   name: 'products',\n *   reducer: createReducer(\n *     initialState,\n *     on(ProductsApiActions.loadSuccess(state, { products }) => ({\n *       ...state,\n *       products,\n *     }),\n *   ),\n * });\n *\n * const {\n *   selectProductsState, // type: MemoizedSelector<AppState, ProductsState>\n *   selectProducts, // type: MemoizedSelector<AppState, Product[]>\n *   selectSelectedId, // type: MemoizedSelector<AppState, string | null>\n * } = productsFeature;\n * ```\n *\n * **Without Application State**\n *\n * ```ts\n * const productsFeature = createFeature({\n *   name: 'products',\n *   reducer: createReducer(initialState),\n * });\n *\n * const {\n *   selectProductsState, // type: MemoizedSelector<Record<string, any>, ProductsState>\n *   selectProducts, // type: MemoizedSelector<Record<string, any>, Product[]>\n *   selectSelectedId, // type: MemoizedSelector<Record<string, any, string | null>\n * } = productsFeature;\n * ```\n */\nfunction createFeature(featureConfig) {\n    const { name, reducer } = featureConfig;\n    const featureSelector = createFeatureSelector(name);\n    const nestedSelectors = createNestedSelectors(featureSelector, reducer);\n    return Object.assign({ name,\n        reducer, [`select${capitalize(name)}State`]: featureSelector }, nestedSelectors);\n}\nfunction createNestedSelectors(featureSelector, reducer) {\n    const initialState = getInitialState(reducer);\n    const nestedKeys = (isPlainObject(initialState)\n        ? Object.keys(initialState)\n        : []);\n    return nestedKeys.reduce((nestedSelectors, nestedKey) => (Object.assign(Object.assign({}, nestedSelectors), { [`select${capitalize(nestedKey)}`]: createSelector(featureSelector, (parentState) => parentState === null || parentState === void 0 ? void 0 : parentState[nestedKey]) })), {});\n}\nfunction getInitialState(reducer) {\n    return reducer(undefined, { type: '@ngrx/feature/init' });\n}\n\nfunction immutabilityCheckMetaReducer(reducer, checks) {\n    return function (state, action) {\n        const act = checks.action(action) ? freeze(action) : action;\n        const nextState = reducer(state, act);\n        return checks.state() ? freeze(nextState) : nextState;\n    };\n}\nfunction freeze(target) {\n    Object.freeze(target);\n    const targetIsFunction = isFunction(target);\n    Object.getOwnPropertyNames(target).forEach((prop) => {\n        // Ignore Ivy properties, ref: https://github.com/ngrx/platform/issues/2109#issuecomment-582689060\n        if (prop.startsWith('ɵ')) {\n            return;\n        }\n        if (hasOwnProperty(target, prop) &&\n            (targetIsFunction\n                ? prop !== 'caller' && prop !== 'callee' && prop !== 'arguments'\n                : true)) {\n            const propValue = target[prop];\n            if ((isObjectLike(propValue) || isFunction(propValue)) &&\n                !Object.isFrozen(propValue)) {\n                freeze(propValue);\n            }\n        }\n    });\n    return target;\n}\n\nfunction serializationCheckMetaReducer(reducer, checks) {\n    return function (state, action) {\n        if (checks.action(action)) {\n            const unserializableAction = getUnserializable(action);\n            throwIfUnserializable(unserializableAction, 'action');\n        }\n        const nextState = reducer(state, action);\n        if (checks.state()) {\n            const unserializableState = getUnserializable(nextState);\n            throwIfUnserializable(unserializableState, 'state');\n        }\n        return nextState;\n    };\n}\nfunction getUnserializable(target, path = []) {\n    // Guard against undefined and null, e.g. a reducer that returns undefined\n    if ((isUndefined(target) || isNull(target)) && path.length === 0) {\n        return {\n            path: ['root'],\n            value: target,\n        };\n    }\n    const keys = Object.keys(target);\n    return keys.reduce((result, key) => {\n        if (result) {\n            return result;\n        }\n        const value = target[key];\n        // Ignore Ivy components\n        if (isComponent(value)) {\n            return result;\n        }\n        if (isUndefined(value) ||\n            isNull(value) ||\n            isNumber(value) ||\n            isBoolean(value) ||\n            isString(value) ||\n            isArray(value)) {\n            return false;\n        }\n        if (isPlainObject(value)) {\n            return getUnserializable(value, [...path, key]);\n        }\n        return {\n            path: [...path, key],\n            value,\n        };\n    }, false);\n}\nfunction throwIfUnserializable(unserializable, context) {\n    if (unserializable === false) {\n        return;\n    }\n    const unserializablePath = unserializable.path.join('.');\n    const error = new Error(`Detected unserializable ${context} at \"${unserializablePath}\". ${RUNTIME_CHECK_URL}#strict${context}serializability`);\n    error.value = unserializable.value;\n    error.unserializablePath = unserializablePath;\n    throw error;\n}\n\nfunction inNgZoneAssertMetaReducer(reducer, checks) {\n    return function (state, action) {\n        if (checks.action(action) && !i0.NgZone.isInAngularZone()) {\n            throw new Error(`Action '${action.type}' running outside NgZone. ${RUNTIME_CHECK_URL}#strictactionwithinngzone`);\n        }\n        return reducer(state, action);\n    };\n}\n\nfunction createActiveRuntimeChecks(runtimeChecks) {\n    if (isDevMode()) {\n        return Object.assign({ strictStateSerializability: false, strictActionSerializability: false, strictStateImmutability: true, strictActionImmutability: true, strictActionWithinNgZone: false, strictActionTypeUniqueness: false }, runtimeChecks);\n    }\n    return {\n        strictStateSerializability: false,\n        strictActionSerializability: false,\n        strictStateImmutability: false,\n        strictActionImmutability: false,\n        strictActionWithinNgZone: false,\n        strictActionTypeUniqueness: false,\n    };\n}\nfunction createSerializationCheckMetaReducer({ strictActionSerializability, strictStateSerializability, }) {\n    return (reducer) => strictActionSerializability || strictStateSerializability\n        ? serializationCheckMetaReducer(reducer, {\n            action: (action) => strictActionSerializability && !ignoreNgrxAction(action),\n            state: () => strictStateSerializability,\n        })\n        : reducer;\n}\nfunction createImmutabilityCheckMetaReducer({ strictActionImmutability, strictStateImmutability, }) {\n    return (reducer) => strictActionImmutability || strictStateImmutability\n        ? immutabilityCheckMetaReducer(reducer, {\n            action: (action) => strictActionImmutability && !ignoreNgrxAction(action),\n            state: () => strictStateImmutability,\n        })\n        : reducer;\n}\nfunction ignoreNgrxAction(action) {\n    return action.type.startsWith('@ngrx');\n}\nfunction createInNgZoneCheckMetaReducer({ strictActionWithinNgZone, }) {\n    return (reducer) => strictActionWithinNgZone\n        ? inNgZoneAssertMetaReducer(reducer, {\n            action: (action) => strictActionWithinNgZone && !ignoreNgrxAction(action),\n        })\n        : reducer;\n}\nfunction provideRuntimeChecks(runtimeChecks) {\n    return [\n        {\n            provide: _USER_RUNTIME_CHECKS,\n            useValue: runtimeChecks,\n        },\n        {\n            provide: USER_RUNTIME_CHECKS,\n            useFactory: _runtimeChecksFactory,\n            deps: [_USER_RUNTIME_CHECKS],\n        },\n        {\n            provide: ACTIVE_RUNTIME_CHECKS,\n            deps: [USER_RUNTIME_CHECKS],\n            useFactory: createActiveRuntimeChecks,\n        },\n        {\n            provide: META_REDUCERS,\n            multi: true,\n            deps: [ACTIVE_RUNTIME_CHECKS],\n            useFactory: createImmutabilityCheckMetaReducer,\n        },\n        {\n            provide: META_REDUCERS,\n            multi: true,\n            deps: [ACTIVE_RUNTIME_CHECKS],\n            useFactory: createSerializationCheckMetaReducer,\n        },\n        {\n            provide: META_REDUCERS,\n            multi: true,\n            deps: [ACTIVE_RUNTIME_CHECKS],\n            useFactory: createInNgZoneCheckMetaReducer,\n        },\n    ];\n}\nfunction checkForActionTypeUniqueness() {\n    return [\n        {\n            provide: _ACTION_TYPE_UNIQUENESS_CHECK,\n            multi: true,\n            deps: [ACTIVE_RUNTIME_CHECKS],\n            useFactory: _actionTypeUniquenessCheck,\n        },\n    ];\n}\nfunction _runtimeChecksFactory(runtimeChecks) {\n    return runtimeChecks;\n}\nfunction _actionTypeUniquenessCheck(config) {\n    if (!config.strictActionTypeUniqueness) {\n        return;\n    }\n    const duplicates = Object.entries(REGISTERED_ACTION_TYPES)\n        .filter(([, registrations]) => registrations > 1)\n        .map(([type]) => type);\n    if (duplicates.length) {\n        throw new Error(`Action types are registered more than once, ${duplicates\n            .map((type) => `\"${type}\"`)\n            .join(', ')}. ${RUNTIME_CHECK_URL}#strictactiontypeuniqueness`);\n    }\n}\n\nclass StoreRootModule {\n    constructor(actions$, reducer$, scannedActions$, store, guard, actionCheck) { }\n}\n/** @nocollapse */ /** @nocollapse */ StoreRootModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreRootModule, deps: [{ token: ActionsSubject }, { token: ReducerObservable }, { token: ScannedActionsSubject }, { token: Store }, { token: _ROOT_STORE_GUARD, optional: true }, { token: _ACTION_TYPE_UNIQUENESS_CHECK, optional: true }], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ /** @nocollapse */ StoreRootModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreRootModule });\n/** @nocollapse */ /** @nocollapse */ StoreRootModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreRootModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreRootModule, decorators: [{\n            type: NgModule,\n            args: [{}]\n        }], ctorParameters: function () {\n        return [{ type: ActionsSubject }, { type: ReducerObservable }, { type: ScannedActionsSubject }, { type: Store }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [_ROOT_STORE_GUARD]\n                    }] }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n                    }] }];\n    } });\nclass StoreFeatureModule {\n    constructor(features, featureReducers, reducerManager, root, actionCheck) {\n        this.features = features;\n        this.featureReducers = featureReducers;\n        this.reducerManager = reducerManager;\n        const feats = features.map((feature, index) => {\n            const featureReducerCollection = featureReducers.shift();\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            const reducers = featureReducerCollection /*TODO(#823)*/[index];\n            return Object.assign(Object.assign({}, feature), { reducers, initialState: _initialStateFactory(feature.initialState) });\n        });\n        reducerManager.addFeatures(feats);\n    }\n    // eslint-disable-next-line @angular-eslint/contextual-lifecycle\n    ngOnDestroy() {\n        this.reducerManager.removeFeatures(this.features);\n    }\n}\n/** @nocollapse */ /** @nocollapse */ StoreFeatureModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreFeatureModule, deps: [{ token: _STORE_FEATURES }, { token: FEATURE_REDUCERS }, { token: ReducerManager }, { token: StoreRootModule }, { token: _ACTION_TYPE_UNIQUENESS_CHECK, optional: true }], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ /** @nocollapse */ StoreFeatureModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreFeatureModule });\n/** @nocollapse */ /** @nocollapse */ StoreFeatureModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreFeatureModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreFeatureModule, decorators: [{\n            type: NgModule,\n            args: [{}]\n        }], ctorParameters: function () {\n        return [{ type: undefined, decorators: [{\n                        type: Inject,\n                        args: [_STORE_FEATURES]\n                    }] }, { type: undefined, decorators: [{\n                        type: Inject,\n                        args: [FEATURE_REDUCERS]\n                    }] }, { type: ReducerManager }, { type: StoreRootModule }, { type: undefined, decorators: [{\n                        type: Optional\n                    }, {\n                        type: Inject,\n                        args: [_ACTION_TYPE_UNIQUENESS_CHECK]\n                    }] }];\n    } });\nclass StoreModule {\n    static forRoot(reducers, config = {}) {\n        return {\n            ngModule: StoreRootModule,\n            providers: [\n                {\n                    provide: _ROOT_STORE_GUARD,\n                    useFactory: _provideForRootGuard,\n                    deps: [[Store, new Optional(), new SkipSelf()]],\n                },\n                { provide: _INITIAL_STATE, useValue: config.initialState },\n                {\n                    provide: INITIAL_STATE,\n                    useFactory: _initialStateFactory,\n                    deps: [_INITIAL_STATE],\n                },\n                { provide: _INITIAL_REDUCERS, useValue: reducers },\n                {\n                    provide: _STORE_REDUCERS,\n                    useExisting: reducers instanceof InjectionToken ? reducers : _INITIAL_REDUCERS,\n                },\n                {\n                    provide: INITIAL_REDUCERS,\n                    deps: [Injector, _INITIAL_REDUCERS, [new Inject(_STORE_REDUCERS)]],\n                    useFactory: _createStoreReducers,\n                },\n                {\n                    provide: USER_PROVIDED_META_REDUCERS,\n                    useValue: config.metaReducers ? config.metaReducers : [],\n                },\n                {\n                    provide: _RESOLVED_META_REDUCERS,\n                    deps: [META_REDUCERS, USER_PROVIDED_META_REDUCERS],\n                    useFactory: _concatMetaReducers,\n                },\n                {\n                    provide: _REDUCER_FACTORY,\n                    useValue: config.reducerFactory\n                        ? config.reducerFactory\n                        : combineReducers,\n                },\n                {\n                    provide: REDUCER_FACTORY,\n                    deps: [_REDUCER_FACTORY, _RESOLVED_META_REDUCERS],\n                    useFactory: createReducerFactory,\n                },\n                ACTIONS_SUBJECT_PROVIDERS,\n                REDUCER_MANAGER_PROVIDERS,\n                SCANNED_ACTIONS_SUBJECT_PROVIDERS,\n                STATE_PROVIDERS,\n                STORE_PROVIDERS,\n                provideRuntimeChecks(config.runtimeChecks),\n                checkForActionTypeUniqueness(),\n            ],\n        };\n    }\n    static forFeature(featureNameOrSlice, reducers, config = {}) {\n        return {\n            ngModule: StoreFeatureModule,\n            providers: [\n                {\n                    provide: _FEATURE_CONFIGS,\n                    multi: true,\n                    useValue: featureNameOrSlice instanceof Object ? {} : config,\n                },\n                {\n                    provide: STORE_FEATURES,\n                    multi: true,\n                    useValue: {\n                        key: featureNameOrSlice instanceof Object\n                            ? featureNameOrSlice.name\n                            : featureNameOrSlice,\n                        reducerFactory: !(config instanceof InjectionToken) && config.reducerFactory\n                            ? config.reducerFactory\n                            : combineReducers,\n                        metaReducers: !(config instanceof InjectionToken) && config.metaReducers\n                            ? config.metaReducers\n                            : [],\n                        initialState: !(config instanceof InjectionToken) && config.initialState\n                            ? config.initialState\n                            : undefined,\n                    },\n                },\n                {\n                    provide: _STORE_FEATURES,\n                    deps: [Injector, _FEATURE_CONFIGS, STORE_FEATURES],\n                    useFactory: _createFeatureStore,\n                },\n                {\n                    provide: _FEATURE_REDUCERS,\n                    multi: true,\n                    useValue: featureNameOrSlice instanceof Object\n                        ? featureNameOrSlice.reducer\n                        : reducers,\n                },\n                {\n                    provide: _FEATURE_REDUCERS_TOKEN,\n                    multi: true,\n                    useExisting: reducers instanceof InjectionToken ? reducers : _FEATURE_REDUCERS,\n                },\n                {\n                    provide: FEATURE_REDUCERS,\n                    multi: true,\n                    deps: [\n                        Injector,\n                        _FEATURE_REDUCERS,\n                        [new Inject(_FEATURE_REDUCERS_TOKEN)],\n                    ],\n                    useFactory: _createFeatureReducers,\n                },\n                checkForActionTypeUniqueness(),\n            ],\n        };\n    }\n}\n/** @nocollapse */ /** @nocollapse */ StoreModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n/** @nocollapse */ /** @nocollapse */ StoreModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreModule });\n/** @nocollapse */ /** @nocollapse */ StoreModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreModule });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.0.0\", ngImport: i0, type: StoreModule, decorators: [{\n            type: NgModule,\n            args: [{}]\n        }] });\nfunction _createStoreReducers(injector, reducers) {\n    return reducers instanceof InjectionToken ? injector.get(reducers) : reducers;\n}\nfunction _createFeatureStore(injector, configs, featureStores) {\n    return featureStores.map((feat, index) => {\n        if (configs[index] instanceof InjectionToken) {\n            const conf = injector.get(configs[index]);\n            return {\n                key: feat.key,\n                reducerFactory: conf.reducerFactory\n                    ? conf.reducerFactory\n                    : combineReducers,\n                metaReducers: conf.metaReducers ? conf.metaReducers : [],\n                initialState: conf.initialState,\n            };\n        }\n        return feat;\n    });\n}\nfunction _createFeatureReducers(injector, reducerCollection) {\n    const reducers = reducerCollection.map((reducer) => {\n        return reducer instanceof InjectionToken ? injector.get(reducer) : reducer;\n    });\n    return reducers;\n}\nfunction _initialStateFactory(initialState) {\n    if (typeof initialState === 'function') {\n        return initialState();\n    }\n    return initialState;\n}\nfunction _concatMetaReducers(metaReducers, userProvidedMetaReducers) {\n    return metaReducers.concat(userProvidedMetaReducers);\n}\nfunction _provideForRootGuard(store) {\n    if (store) {\n        throw new TypeError(`StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.`);\n    }\n    return 'guarded';\n}\n\n/**\n * @description\n * Associates actions with a given state change function.\n * A state change function must be provided as the last parameter.\n *\n * @param args `ActionCreator`'s followed by a state change function.\n *\n * @returns an association of action types with a state change function.\n *\n * @usageNotes\n * ```ts\n * on(AuthApiActions.loginSuccess, (state, { user }) => ({ ...state, user }))\n * ```\n */\nfunction on(...args) {\n    // This could be refactored when TS releases the version with this fix:\n    // https://github.com/microsoft/TypeScript/pull/41544\n    const reducer = args.pop();\n    const types = args.map((creator) => creator.type);\n    return { reducer, types };\n}\n/**\n * @description\n * Creates a reducer function to handle state transitions.\n *\n * Reducer creators reduce the explicitness of reducer functions with switch statements.\n *\n * @param initialState Provides a state value if the current state is `undefined`, as it is initially.\n * @param ons Associations between actions and state changes.\n * @returns A reducer function.\n *\n * @usageNotes\n *\n * - Must be used with `ActionCreator`'s (returned by `createAction`). Cannot be used with class-based action creators.\n * - The returned `ActionReducer` should additionally be wrapped with another function, if you are using View Engine AOT.\n * In case you are using Ivy (or only JIT View Engine) the extra wrapper function is not required.\n *\n * **Declaring a reducer creator**\n *\n * ```ts\n * export const reducer = createReducer(\n *   initialState,\n *   on(\n *     featureActions.actionOne,\n *     featureActions.actionTwo,\n *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })\n *   ),\n *   on(featureActions.actionThree, () => initialState);\n * );\n * ```\n *\n * **Declaring a reducer creator using a wrapper function (Only needed if using View Engine AOT)**\n *\n * ```ts\n * const featureReducer = createReducer(\n *   initialState,\n *   on(\n *     featureActions.actionOne,\n *     featureActions.actionTwo,\n *     (state, { updatedValue }) => ({ ...state, prop: updatedValue })\n *   ),\n *   on(featureActions.actionThree, () => initialState);\n * );\n *\n * export function reducer(state: State | undefined, action: Action) {\n *   return featureReducer(state, action);\n * }\n * ```\n */\nfunction createReducer(initialState, ...ons) {\n    const map = new Map();\n    for (const on of ons) {\n        for (const type of on.types) {\n            const existingReducer = map.get(type);\n            if (existingReducer) {\n                const newReducer = (state, action) => on.reducer(existingReducer(state, action), action);\n                map.set(type, newReducer);\n            }\n            else {\n                map.set(type, on.reducer);\n            }\n        }\n    }\n    return function (state = initialState, action) {\n        const reducer = map.get(action.type);\n        return reducer ? reducer(state, action) : state;\n    };\n}\n\n/**\n * DO NOT EDIT\n *\n * This file is automatically generated at build\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ACTIVE_RUNTIME_CHECKS, ActionsSubject, FEATURE_REDUCERS, INIT, INITIAL_REDUCERS, INITIAL_STATE, META_REDUCERS, REDUCER_FACTORY, ReducerManager, ReducerManagerDispatcher, ReducerObservable, STORE_FEATURES, ScannedActionsSubject, State, StateObservable, Store, StoreFeatureModule, StoreModule, StoreRootModule, UPDATE, USER_PROVIDED_META_REDUCERS, USER_RUNTIME_CHECKS, combineReducers, compose, createAction, createFeature, createFeatureSelector, createReducer, createReducerFactory, createSelector, createSelectorFactory, defaultMemoize, defaultStateFn, isNgrxMockEnvironment, on, props, reduceState, resultMemoize, select, setNgrxMockEnvironment, union };\n"]},"metadata":{},"sourceType":"module"}